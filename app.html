<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>MD2PDF - Markdown to PDF Editor</title>
    <meta name="description" content="Free Markdown to PDF converter with no limits, no signup. Real-time editor with A4 preview. Works offline.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://md2pdf.xyz/app">
    
    <!-- Hreflang Tags -->
    <link rel="alternate" hreflang="en" href="https://md2pdf.xyz/app">
    <link rel="alternate" hreflang="pt" href="https://md2pdf.xyz/pt/app">
    <link rel="alternate" hreflang="x-default" href="https://md2pdf.xyz/app">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600;800&family=Fira+Code:wght@400;500;600&family=Merriweather:wght@400;700&family=Open+Sans:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/icon-192.png">
</head>
<body>
    <!-- Mobile Block Overlay -->
    <div id="mobile-block" class="mobile-block-overlay" aria-modal="true" role="dialog" aria-labelledby="mobile-block-title">
        <div class="mobile-block-content">
            <h1 id="mobile-block-title">MD2PDF</h1>
            <p>This app is optimized for larger screens (desktop/laptop).</p>
            <p>For the best editing and PDF export experience, please access from a computer.</p>
            <a href="/" class="mobile-block-btn">Back to home page</a>
        </div>
    </div>

    <!-- Skip to main content link (WCAG 2.1) -->
    <a href="#main-editor" class="sr-only skip-link" tabindex="0">Skip to main editor</a>
    
    <div class="app-grid" role="application" aria-label="MD2PDF - Markdown to PDF Converter Application">
        <!-- Top Bar: Global Status & Controls (Toolbar role) -->
        <header class="top-bar" role="banner">
            <h1 class="brand">MD2PDF <span class="version" aria-label="System version 2.0">v1.1.11</span> <a href="/manual/" class="manual-link" title="Open manual" aria-label="Open user manual">[?]</a></h1>
            <div class="top-metrics" role="status" aria-label="Real-time system status" aria-live="polite">
                <div class="metric">MEM: <span id="mem-usage" aria-label="Memory usage">--</span></div>
                <div class="metric">LATENCY: <span id="render-latency" aria-label="Render latency">0ms</span></div>
                <div class="metric status-ok system-status" aria-label="System online">SYSTEM: ONLINE</div>
            </div>
            <div class="top-controls" role="toolbar" aria-label="Main controls">
                <button 
                    id="download-btn" 
                    class="action-btn" 
                    aria-label="Export document as PDF"
                    title="Export document as PDF (Ctrl+Shift+E)">
                    [ EXP_PDF ]
                </button>
            </div>
        </header>

        <!-- Sidebar: Documents & Metrics (Navigation) -->
        <aside class="sidebar" role="complementary" aria-label="Sidebar with documents and controls">
            <div class="panel-header" role="heading" aria-level="2">
                <span>DOC_INDEX</span>
                <button 
                    id="new-doc-btn" 
                    class="icon-btn" 
                    aria-label="Create new document"
                    title="Create new document (Ctrl+N)">
                    +
                </button>
            </div>
            <div 
                id="documents-list" 
                class="list-container" 
                role="listbox"
                aria-label="Documents list"
                aria-describedby="doc-index-help">
                <!-- Docs injected here -->
            </div>
            <span id="doc-index-help" class="sr-only">
                Use up/down arrows to navigate documents. Enter to open, Delete to remove. Ctrl+N for new.
            </span>
            
            <div class="panel-header" role="heading" aria-level="2">ACTIONS</div>
            <div class="actions-section" style="padding: 10px; display: flex; flex-direction: column; gap: 6px;">
                <button 
                    id="import-md-btn" 
                    class="action-btn action-btn-secondary" 
                    style="width: 100%; font-size: 11px;" 
                    aria-label="Import Markdown file"
                    title="Import .md file from computer">
                    IMPORT MD
                </button>
                <button 
                    id="download-md-btn" 
                    class="action-btn action-btn-tertiary" 
                    style="width: 100%; font-size: 11px;" 
                    aria-label="Export document as Markdown"
                    title="Export document as .md file">
                    EXPORT MD
                </button>
            </div>
            
            <div class="panel-header" role="heading" aria-level="2">QUICK_TAGS</div>
            <div class="quick-tags-container" role="toolbar" aria-label="Insert Markdown elements">
                <button class="tag-btn tag-btn-clear" data-tag="clear" title="Remove HTML tags from selection">CLR</button>
                <button class="tag-btn" data-tag="br" title="Line break">&crarr;</button>
                <button class="tag-btn" data-tag="hr" title="Horizontal line">---</button>
                <button class="tag-btn" data-tag="pagebreak" title="Page break (PDF only)">[PB]</button>
                <button class="tag-btn" data-tag="code" title="Code block">```</button>
                <button class="tag-btn" data-tag="quote" title="Blockquote">&gt;</button>
                <button class="tag-btn" data-tag="heading" title="Heading">#</button>
                <button class="tag-btn" data-tag="bold" title="Bold">**</button>
                <button class="tag-btn" data-tag="italic" title="Italic">*</button>
                <button class="tag-btn" data-tag="strike" title="Strikethrough">~~</button>
                <button class="tag-btn" data-tag="list" title="List">-</button>
                <button class="tag-btn" data-tag="numlist" title="Numbered list">1.</button>
                <button class="tag-btn" data-tag="checkbox" title="Checkbox / Task">[ ]</button>
                <button class="tag-btn" data-tag="link" title="Link">[]()</button>
                <button class="tag-btn" data-tag="table" title="Table">TBL</button>
                <button class="tag-btn tag-btn-yellow" data-tag="mark-yellow" title="Yellow highlight">&#9632;</button>
                <button class="tag-btn tag-btn-green" data-tag="mark-green" title="Green highlight">&#9632;</button>
                <button class="tag-btn tag-btn-blue" data-tag="mark-blue" title="Blue highlight">&#9632;</button>
                <button class="tag-btn tag-btn-red" data-tag="mark-red" title="Red highlight">&#9632;</button>
                <select class="tag-select" id="tag-font" title="Apply font to selection">
                    <option value="">Aa</option>
                    <option value="Inter, system-ui, sans-serif">Inter</option>
                    <option value="'Roboto', sans-serif">Roboto</option>
                    <option value="'JetBrains Mono', monospace">Mono</option>
                    <option value="Georgia, serif">Georgia</option>
                    <option value="Arial, sans-serif">Arial</option>
                </select>
                <button class="tag-btn" data-tag="align-left" title="Align left">&lArr;</button>
                <button class="tag-btn" data-tag="align-center" title="Center">&hArr;</button>
                <button class="tag-btn" data-tag="align-right" title="Align right">&rArr;</button>
                <button class="tag-btn" data-tag="align-justify" title="Justify">&equiv;</button>
            </div>
            
            <div class="panel-header problems-header" role="heading" aria-level="2">
                PROBLEMS <span id="problems-count" class="problems-badge">(0)</span>
            </div>
            <div 
                id="problems-panel" 
                class="problems-container" 
                role="list" 
                aria-label="Syntax problems list"
                aria-live="polite">
                <div class="problems-empty">No problems detected</div>
            </div>
            
            <div class="panel-header" role="heading" aria-level="2">SYS_LOGS</div>
            <div 
                id="console-log" 
                class="console-container" 
                role="log" 
                aria-label="System log"
                aria-live="polite"
                aria-atomic="false">
                <div class="log-line system">> INIT SEQUENCE STARTED...</div>
            </div>
        </aside>

        <!-- Main Area: Editor & Preview -->
        <main class="workspace" role="main" id="main-editor" aria-label="Workspace - Editor and Preview">
            <!-- Editor Pane -->
            <div class="pane-container editor-pane" id="editor-pane">
                <header class="pane-header editor-header-extended" id="editor-header">
                    <div class="editor-header-top">
                        <h2 style="margin: 0; font-size: 12px; font-weight: 600;">INPUT_STREAM</h2>
                        <label for="doc-name" class="sr-only">Document name</label>
                        <input 
                            type="text" 
                            id="doc-name" 
                            class="bare-input" 
                            value="Untitled"
                            aria-label="Document name"
                            aria-describedby="editor-header"
                            spellcheck="true">
                    </div>
                    <div class="editor-controls">
                        <span 
                            id="save-status" 
                            class="save-status save-status-saved" 
                            role="status" 
                            aria-live="polite"
                            aria-label="Save status">
                            <span class="save-dot"></span>
                            <span class="save-text">Saved</span>
                        </span>
                        <button 
                            id="force-save-btn" 
                            class="icon-btn save-btn" 
                            aria-label="Force save"
                            title="Force save (Ctrl+S)">
                            &#x21bb;
                        </button>
                        <button 
                            id="copy-md-btn" 
                            class="icon-btn copy-btn" 
                            aria-label="Copy Markdown content"
                            title="Copy Markdown content (Ctrl+Shift+C)">
                            COPY
                        </button>
                    </div>
                </header>
                <div id="editor" class="editor-frame" role="textbox" aria-multiline="true" aria-label="Markdown editor"></div>
            </div>
            
            <!-- Splitter - Resize handle between panels -->
            <div class="workspace-splitter" id="workspace-splitter" role="separator" aria-label="Resize panels" title="Drag to resize. Double-click to reset.">
                <div class="splitter-handle"></div>
            </div>
            
            <!-- Preview Pane -->
            <div class="pane-container preview-pane" id="preview-pane">
                <header class="pane-header preview-header-extended" id="preview-header">
                    <div class="preview-header-top">
                        <h2 style="margin: 0; font-size: 12px; font-weight: 600;">RENDER_OUTPUT</h2>
                        <span 
                            id="status-indicator" 
                            class="status-dot" 
                            role="status"
                            aria-label="Render status indicator"
                            aria-live="polite">
                        </span>
                    </div>
                    <div class="preview-controls">
                        <select id="preview-font" class="preview-select" title="Document font">
                            <optgroup label="Modern">
                                <option value="Inter, system-ui, sans-serif">Inter</option>
                                <option value="'Roboto', sans-serif">Roboto</option>
                                <option value="'Open Sans', sans-serif">Open Sans</option>
                            </optgroup>
                            <optgroup label="Monospace">
                                <option value="'JetBrains Mono', monospace" selected>JetBrains Mono</option>
                                <option value="'Fira Code', monospace">Fira Code</option>
                                <option value="'Courier New', monospace">Courier New</option>
                            </optgroup>
                            <optgroup label="Serif">
                                <option value="Georgia, serif">Georgia</option>
                                <option value="'Times New Roman', serif">Times New Roman</option>
                                <option value="'Merriweather', serif">Merriweather</option>
                            </optgroup>
                            <optgroup label="Sans-serif">
                                <option value="Arial, sans-serif">Arial</option>
                                <option value="Verdana, sans-serif">Verdana</option>
                                <option value="Helvetica, sans-serif">Helvetica</option>
                            </optgroup>
                        </select>
                        <div class="align-buttons" role="group" aria-label="Text alignment">
                            <button class="align-btn active" data-align="left" title="Align left" aria-pressed="true">&lArr;</button>
                            <button class="align-btn" data-align="center" title="Center" aria-pressed="false">&hArr;</button>
                            <button class="align-btn" data-align="right" title="Align right" aria-pressed="false">&rArr;</button>
                            <button class="align-btn" data-align="justify" title="Justify" aria-pressed="false">&equiv;</button>
                        </div>
                    </div>
                </header>
                <div id="preview-wrapper" role="region" aria-label="A4 output preview" aria-describedby="preview-header">
                    <div id="preview" class="markdown-body" role="document"></div>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
